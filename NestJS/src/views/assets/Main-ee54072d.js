import{n as l,r as i,y as r}from"./index-a1f01123.js";const c={name:"Aside",data(){return{list:[],listData:[{icon:"el-icon-s-home",name:"首页",url:"/home"},{icon:"el-icon-folder",name:"文件夹",url:"/folder"},{icon:"el-icon-picture",name:"公共图库",url:"/publicFile"},{icon:"el-icon-picture",name:"文件",url:"/file"}],visitedPages:[]}},mounted(){this.list=i.options.routes[2].children,console.log(i.options.routes),this.handleMenuSelect(this.$router.currentRoute.name,this.$router.currentRoute.path)},methods:{handleOpen(s,e){console.log(s,e)},handleClose(s,e){console.log(s,e)},handleMenuSelect(s,e){let t={name:s,path:e};this.visitedPages.some(a=>a.path===e)||this.visitedPages.push(t),this.$emit("tag",this.visitedPages)}}};var u=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"250px",height:"100%"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{height:"100%"},attrs:{"default-active":e.$router.currentRoute.path,"background-color":"#fff","text-color":"#4d5259","active-text-color":"#ffd04b",router:!0,"unique-opened":!0},on:{open:e.handleOpen,close:e.handleClose}},e._l(e.listData,function(n){return t("div",{key:n.name},[n.data?t("el-submenu",{key:n.name,attrs:{index:n.name}},[t("template",{slot:"title"},[t("i",{class:n.icon}),t("span",[e._v(e._s(n.name))])]),e._l(n.data,function(a){return t("div",[a.data?t("el-submenu",{key:a.name,attrs:{index:a.name}},[t("template",{slot:"title"},[t("span",[e._v(e._s(a.name))])]),e._l(a.data,function(o){return t("el-menu-item",{attrs:{index:o.url}},[e._v(e._s(o.name))])})],2):t("el-menu-item",{staticClass:"itemChildren",attrs:{index:a.url},on:{click:function(o){return e.handleMenuSelect(a.name,a.url)}}},[e._v(e._s(a.name)+" ")])],1)})],2):t("el-menu-item",{attrs:{index:n.url},on:{click:function(a){return e.handleMenuSelect(n.name,n.url)}}},[t("i",{class:n.icon}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(n.name))])])],1)}),0)],1)},d=[],_=l(c,u,d,!1,null,"3ea887c5",null,null);const v=_.exports;const m={name:"Header",data(){return{email:""}},mounted(){this.email=localStorage.getItem("email")},methods:{handleCommand(s){s==="logout"&&this.$confirm("是否退出登录","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{r.removeToken(),this.$router.push("/login")}).catch(()=>{this.$message({type:"info",message:"已取消退出"})})}}};var f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box df jcsb"},[t("div",{staticClass:"logo"},[e._v("朝阳床图 - 开源免费版")]),t("div",{staticClass:"box-container"},[t("div",{staticClass:"df jcsb"},[t("el-dropdown",{on:{command:e.handleCommand}},[t("span",{staticClass:"el-dropdown-link"},[e._v(" 当前登录账号："+e._s(e.email)),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"logout"}},[e._v("退出登录")])],1)],1)],1)])])},p=[],h=l(m,f,p,!1,null,"fa8cbd61",null,null);const g=h.exports;const x={name:"Tag",props:{visitedValue:{type:Array,required:!0}},mounted(){},methods:{onTag(s){this.$router.push(s.url)},removeTag(s){const e=this.visitedValue.indexOf(s);e!==-1&&this.visitedValue.splice(e,1),this.visitedValue.at(e)?this.onTag(this.visitedValue.at(e)):e!=0?this.onTag(this.visitedValue.at(e-1)):this.$router.push("/")}}};var $=function(){var e=this,t=e._self._c;return t("div",e._l(e.visitedValue,function(n){return t("el-tag",{key:n.url,staticClass:"tag cp",attrs:{closable:""},on:{close:function(a){return e.removeTag(n)},click:function(a){return e.onTag(n)}}},[e._v(" "+e._s(n.name)+" ")])}),1)},y=[],b=l(x,$,y,!1,null,"0ebf14d4",null,null);const T=b.exports;const w={name:"Main",components:{Aside:v,Header:g,Tag:T},data(){return{visitedValue:[]}},mounted(){},methods:{tag(s){this.visitedValue=s}}};var V=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("el-container",[t("el-header",[t("Header")],1),t("el-container",[t("el-aside",[t("Aside",{on:{tag:e.tag}})],1),t("el-main",[t("Tag",{attrs:{visitedValue:e.visitedValue}}),t("router-view",{staticStyle:{padding:"20px"}})],1)],1)],1)],1)},k=[],S=l(w,V,k,!1,null,"33570b15",null,null);const R=S.exports;export{R as default};
